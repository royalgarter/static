"use strict";(self.webpackChunktagspaces=self.webpackChunktagspaces||[]).push([[594],{12265:(e,t,a)=>{a.r(t),a.d(t,{default:()=>R});var o,r=a(67294),n=a(24011),s=a(14890),i=a(21822),l=a(22949),d=a(72962),g=a(24498),c=a(77745),u=a(61366),p=a(17888),E=a(42853),m=a(58653),T=a(77957),f=a(3530),y=a(7419),h=a(14952),Z=a(94315),S=a(44187),b=a(170),v=a(51602),D=a(88841),C=a(74008),w=a(19885),U=a(56760),k=a(61225);e=a.hmd(e),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);var x="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e};const F=()=>({root:{minWidth:400,height:"100%",marginBottom:30}}),M=Z.T&&Z.T.UI?Z.T.UI.GeoTagEditor:r.Fragment,G=Z.T&&Z.T.UI?Z.T.UI.DateTagEditor:r.Fragment;function L(e){const[t,a]=(0,r.useState)(!1),[o,n]=(0,r.useState)(e.selectedTag&&e.selectedTag.title),s=(0,r.useRef)(null),u=(0,r.useMemo)((()=>{let e=!1;if(o&&o.indexOf("-")>-1){const t=o.split("-");if(2===t.length)for(let a=0;a<t.length;a+=1){if(!(0,v.U2)(t[a])){e=!1;break}e=!0}}else e=(0,v.U2)(o);return G&&e}),[]),[Z,S]=(0,r.useState)(u),{setError:b,haveError:C}=(0,D.Z)(),{onClose:x,open:F}=e;function L(){(function(){const e=RegExp(/^[^#/\\ [\]]{1,}$/);return o&&e.test(o)?(b("tag",!1),!0):(b("tag"),!1)})()&&!C()&&(e.editTagForEntry(e.selectedTag.path,e.selectedTag,o),e.onClose())}(0,r.useEffect)((()=>{s&&s.current&&(s.current.value=o)}),[o]);const H=(0,U.Z)(),P=(0,k.Z)(H.breakpoints.down("md"));return r.createElement(m.Z,{open:F,fullScreen:P,onClose:x,onKeyDown:e=>{"Enter"!==e.key&&13!==e.keyCode||(e.preventDefault(),e.stopPropagation(),L())}},r.createElement(c.Z,null,y.Z.t("core:tagProperties")," ",r.createElement(w.Z,{onClose:x})),function(){const a=M&&(0,h.tL)(o);return r.createElement(g.Z,{"data-tid":"editEntryTagDialog",className:e.classes.root,style:{overflow:f.Z.isFirefox?"auto":"overlay"}},r.createElement(p.Z,{fullWidth:!0,error:C("tag")},r.createElement(l.Z,{fullWidth:!0,error:C("tag"),disabled:Z,inputRef:s,margin:"dense",name:"title",autoFocus:!0,label:y.Z.t("core:editTag"),onChange:e=>{const{target:t}=e;n(t.value)},defaultValue:o,"data-tid":"editTagEntryDialog_input",InputProps:{endAdornment:r.createElement(T.Z,{onClick:()=>S(!Z)})}}),C("tag")&&r.createElement(E.Z,null,y.Z.t("core:tagTitleHelper"))),a&&r.createElement(M,{geoTag:o,onChange:n,showAdvancedMode:t,geoTaggingFormat:e.geoTaggingFormat,haveError:C,setError:b,tileServer:e.tileServer}),Z&&u&&r.createElement(G,{datePeriodTag:e.selectedTag&&e.selectedTag.title,onChange:n}))}(),r.createElement(d.Z,{style:{justifyContent:"space-between"}},M&&(0,h.tL)(o)?r.createElement(i.Z,{"data-tid":"switchAdvancedModeTID",onClick:()=>a(!t)},t?y.Z.t("core:switchSimpleMode"):y.Z.t("core:switchAdvancedMode")):r.createElement("div",null),r.createElement("div",null,r.createElement(i.Z,{"data-tid":"closeEditTagEntryDialog",onClick:e.onClose},y.Z.t("core:cancel")),r.createElement(i.Z,{disabled:C(),onClick:L,"data-tid":"confirmEditTagEntryDialog",color:"primary"},y.Z.t("core:ok")))))}function H(e){return{selectedTag:(0,S.h_)(e),selectedEntries:(0,S.lv)(e),tileServer:(0,C.SX)(e),geoTaggingFormat:e.settings.geoTaggingFormat}}function P(e){return(0,s.DE)({editTagForEntry:b.Z.editTagForEntry},e)}x(L,"useState{[showAdvancedMode, setShowAdvancedMode](false)}\nuseState{[title, setTitle](props.selectedTag && props.selectedTag.title)}\nuseRef{titleRef}\nuseMemo{isShowDatePeriodEditor}\nuseState{[editDisabled, setEditDisabled](isShowDatePeriodEditor)}\nuseValidation{{ setError, haveError }}\nuseEffect{}\nuseTheme{theme}\nuseMediaQuery{fullScreen}",(()=>[D.Z,U.Z,k.Z]));const A=(e,t)=>JSON.stringify(t.selectedTag)===JSON.stringify(e.selectedTag),I=(0,n.$j)(H,P)(r.memo((0,u.Z)(F)(L),A)),R=I;var N,O;(N="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(N.register(F,"styles","/Users/na/TagSpaces/tsbuilder/mainrepo/app/components/dialogs/EditEntryTagDialog.tsx"),N.register(M,"GeoTagEditor","/Users/na/TagSpaces/tsbuilder/mainrepo/app/components/dialogs/EditEntryTagDialog.tsx"),N.register(G,"DateTagEditor","/Users/na/TagSpaces/tsbuilder/mainrepo/app/components/dialogs/EditEntryTagDialog.tsx"),N.register(L,"EditEntryTagDialog","/Users/na/TagSpaces/tsbuilder/mainrepo/app/components/dialogs/EditEntryTagDialog.tsx"),N.register(H,"mapStateToProps","/Users/na/TagSpaces/tsbuilder/mainrepo/app/components/dialogs/EditEntryTagDialog.tsx"),N.register(P,"mapDispatchToProps","/Users/na/TagSpaces/tsbuilder/mainrepo/app/components/dialogs/EditEntryTagDialog.tsx"),N.register(A,"areEqual","/Users/na/TagSpaces/tsbuilder/mainrepo/app/components/dialogs/EditEntryTagDialog.tsx"),N.register(I,"default","/Users/na/TagSpaces/tsbuilder/mainrepo/app/components/dialogs/EditEntryTagDialog.tsx")),(O="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&O(e)}}]);
//# sourceMappingURL=594.bundle.js.map